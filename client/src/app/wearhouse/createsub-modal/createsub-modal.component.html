
<form [formGroup]="SubMainWearhouseForm" (ngSubmit)="save()">
  <div class="form-group">
    <label for="subName">Sub Warehouse Name *</label>
    <input id="subName" type="text" formControlName="subName" class="form-control" [ngClass]="{'is-invalid': SubMainWearhouseForm.get('subName')?.invalid && SubMainWearhouseForm.get('subName')?.touched}">
    <div *ngIf="SubMainWearhouseForm.get('subName')?.invalid && SubMainWearhouseForm.get('subName')?.touched" class="invalid-feedback">
      Sub Warehouse Name is required.
    </div>
  </div>

  <div class="form-group">
    <label for="subDescription">Sub Warehouse Description</label>
    <input id="subDescription" type="text" formControlName="subDescription" class="form-control">
    
  </div>

  <div class="form-group">
    <label for="subAddress">Sub Warehouse Address</label>
    <input id="subAddress" type="text" formControlName="subAddress" class="form-control">
  </div>

  <div class="form-group" hidden>
    <label for="mainFk">Main Warehouse ID</label>
    <input id="mainFk" type="number" formControlName="mainFk" class="form-control">
  </div>

<!-- Checkbox to show/hide Parent Sub Warehouse selection -->
<div class="form-group form-check my-3" *ngIf="getValidParentSubwearhouseCount() > 0">
  <input type="checkbox" id="showParentSubWearhouse" class="form-check-input" formControlName="showParentSubWearhouse">
  <label class="form-check-label" for="showParentSubWearhouse">Is Follow Parent</label>
</div>

<!-- Parent Sub Warehouse dropdown, toggled by the checkbox -->
<div class="form-group" *ngIf="SubMainWearhouseForm.get('showParentSubWearhouse')?.value">
  <label for="parentSubWearhouseId">Parent Sub Warehouse</label>
  <select id="parentSubWearhouseId" formControlName="parentSubWearhouseId" class="form-control">
    <option *ngFor="let subWearhouse of ParentsubWearhouses" [value]="subWearhouse.subId">
      {{ subWearhouse.subName }}
    </option>
  </select>
</div>

  <button type="submit" class="btn btn-primary my-3" [disabled]="SubMainWearhouseForm.invalid">Save Sub Warehouse</button>
</form>

<div *ngIf="errors.length > 0" class="alert alert-danger">
  <ul>
    <li *ngFor="let error of errors">{{ error }}</li>
  </ul>
</div>
